{"ast":null,"code":"export class BaseComponent {\n  constructor(dialog) {\n    this.dialog = dialog;\n  }\n  close() {\n    this.dialog.close();\n  }\n  save() {\n    if (!this.form.valid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n    this.submit().subscribe({\n      next: () => this.dialog.close(),\n      error: () => {\n        /* show modal error */\n      }\n    });\n  }\n}","map":{"version":3,"mappings":"AAIA,OAAM,MAAgBA,aAAa;EAK/BC,YAA8BC,MAAsC;IAAtC,WAAM,GAANA,MAAM;EAAmC;EAEhEC,KAAK;IACR,IAAI,CAACD,MAAM,CAACC,KAAK,EAAE;EACvB;EAEOC,IAAI;IACP,IAAI,CAAC,IAAI,CAACC,IAAI,CAACC,KAAK,EAAE;MAClB,IAAI,CAACD,IAAI,CAACE,gBAAgB,EAAE;MAE5B;;IAGJ,IAAI,CAACC,MAAM,EAAE,CAACC,SAAS,CAAC;MACpBC,IAAI,EAAE,MAAM,IAAI,CAACR,MAAM,CAACC,KAAK,EAAE;MAC/BQ,KAAK,EAAE,MAAK;QACR;MAAA;KAEP,CAAC;EACN","names":["BaseComponent","constructor","dialog","close","save","form","valid","markAllAsTouched","submit","subscribe","next","error"],"sourceRoot":"","sources":["/Users/atarr@dontpaniclabs.com/Documents/workspace/DesignPatterns/FactoryMethod/1. Angular Modal Base/src/app/modals/base.component.ts"],"sourcesContent":["import { MatDialogRef } from '@angular/material/dialog';\nimport { FormGroup } from '@angular/forms';\nimport { Observable } from 'rxjs';\n\nexport abstract class BaseComponent<T> {\n    public abstract get form(): FormGroup;\n\n    public abstract submit(): Observable<T>;\n\n    protected constructor(private dialog: MatDialogRef<BaseComponent<T>>) {}\n\n    public close() {\n        this.dialog.close();\n    }\n\n    public save() {\n        if (!this.form.valid) {\n            this.form.markAllAsTouched();\n\n            return;\n        }\n\n        this.submit().subscribe({\n            next: () => this.dialog.close(),\n            error: () => {\n                /* show modal error */\n            },\n        });\n    }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}